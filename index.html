<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>GrassRobotics panel</title>
		<meta charset="UTF-8">
		<!-- Leaflet -->
		<!--link rel="stylesheet" href="lib/leaflet/leaflet.css" /-->
		<!--script src="lib/leaflet/leaflet.js"></script-->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
			integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
			crossorigin=""/>
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
			integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
			crossorigin=""></script>

		<!-- Easy Button -->
		<link href="lib/easy-button/easy-button.css" rel="stylesheet">
		<script src="lib/easy-button/easy-button.js"></script>

		<!-- Roscore -->
		<!--script type="text/javascript" src="lib/roslib/eventemitter2.min.js"></script>
		<script type="text/javascript" src="lib/roslib/roslib.min.js"></script-->
		<script type="text/javascript" src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
		<script type="text/javascript" src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>


		<!-- Bootstrap & JQuery -->
		<link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<script src="lib/jquery/jquery-2.2.0.min.js"></script>

		<!-- SweetAlert -->
		<link href="lib/sweetalert/sweetalert.css" rel="stylesheet">
		<script src="lib/sweetalert/sweetalert.min.js"></script>


		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.3/Chart.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>

	<style>
				body {
						padding: 0pt;
						margin: 2%;
						margin-right: 2%;
				}
				html, body {
						height:90%;
						width: 96%;
						margin: 2%;
						margin-right: 2%;
				}
				.leaflet-control a{
					font-size: 3em;
					padding: 10px;
				}
				.easy-button-button{
					font-size: 2.7em;
					padding: 5px;
				}
				/* Style the tab */
				.tab {
					overflow: hidden;
					border: 1px solid #ccc;
					background-color: #f1f1f1;
				}

				/* Style the buttons inside the tab */
				.tab button {
					background-color: inherit;
					float: left;
					border: none;
					outline: none;
					cursor: pointer;
					padding: 14px 16px;
					transition: 0.3s;
					font-size: 17px;
				}

				.button2 {width: 100%; height: 150pt;}

				/* Change background color of buttons on hover */
				.tab button:hover {
				background-color: #ddd;
			}

			/* Create an active/current tablink class */
				.tab button.active {
			background-color: #ccc;
			}
			/* Style the tab content */
			.tabcontent {
			  display: none;
			  padding: 6px 12px;
			  border: 1px solid #ccc;
			  border-top: none;
			}
	</style>

	<center>
		<h1>The GrassRobot Interface </h1>
	</center>

	<body>

		<div class="tab">
			<button class="tablinks" onclick="removeElement(">Information</button>
			<button class="tablinks" onclick="removeElement()">Location</button>
			<button class="tablinks" onclick="removeElement()">Navigation System</button>
			<button class="tablinks" onclick="script()">Stats</button>
		</div>

		<div id="Information" class="tabcontent">
			<div>
        	<center>
						<b> This webpage is connected to a simulation that is running in my computer in Mexico. It is not a video.</b>
						<h3>
							Instructions
						</h3>
						<p>
							There are 3 main pages in this website.
							In the first one title "Location" just display an example how to localize the robot in a map.
							The second one have some feedback coming from the simulation. Together with a start button to restart the task of the robot. Be careful with this.
							The third page display some statistical information of the simulation that is running, distributed in task, duration of motion and distance covered.
						</p>
						<p>
								Hi. This is Jose. This is just a Small Demo to show how the navigation systems works.
								Thanks for all the support during these years.
								I hope all is going well for everyone.
						</p>
					<h3>Developed by Jose Mayoral 2022</h3>
					</center>
			</div>

		</div>

		<div id="Location" class="tabcontent">
			<div>
        	<center>
						<h2> <b> GPS Map </b> </h2>
						<div id="map" style='height: 300pt; width: 90%'></div>
					</center>
			</div>

		</div>

		<div id="Stats" class="tabcontent">
			<div style="width: 100%; height: 10%;">

			</div>

		</div>

		<script>
		console.log("in")
		// Requiring fs module in which
		// readFile function is defined.
		//const fs = require('fs')

		// Reading data in utf-8 format
		// which is a type of character set.
		// Instead of 'utf-8' it can be
		// other character set also like 'ascii'
		function script(){
			removeElement()
			var iframe = document.createElement('iframe');
			iframe.id = 'iframe';
			//iframe.style.display = 'none';
			document.body.appendChild(iframe);
			iframe.src = 'example.txt';
			setTimeout(function(){
					console.log("in2")
					iframe =document.getElementById('iframe')
					var text = iframe.contentDocument.body.firstChild.innerHTML;
					iframe.setAttribute("height","100%")
					console.log(text)
					//alert(text);
					//document.getElementById("example").style.textDecoration = "none";
					//document.getElementById("example").innerHTML =text;

			}, 1000);
		}
		</script>


		<script>
		function removeElement(){
			console.log("CLOSE PLEASE")
			if (document.contains(document.getElementById("iframe"))) {
						document.getElementById("iframe").remove();
			}
		}
		</script>


		<div id="Navigation System" class="tabcontent">
			<center>
				<div style="display: table-row; width: 100%; height: 100%;">
					<div style="width: 50%; display: table-cell; background: white;">
					<!--center>
						<h2> <b> Detected People </b> </h2>
						<canvas id="personChart" style='height: 70%; width: 100%'>
						</canvas>
					</center-->
					<center>
						<h2> <b> Map Representation </b> </h2>
						<img id="my_map" width="400" height="400" src="assets/img/placeholder.jpg">
					</center>
					</div>
					<div style="width: 50%; display: table-cell; background: white;">
						<center>
							<h2> <b> Camera </b> </h2>
							<img id="my_image" style='height: 70%; width: 100%; object-fit: fill' src="assets/img/placeholder.jpg">
						</center>
					</div>
				</div>

				<button class="button2" onclick="startExecution()"> Restart </button>
				<!--p id="ndetections"> Persons Detected XXX</p-->
			</center>
		</div>

		<!--script>
			function openCity(evt, system) {
				console.log(evt, system)
			  var i, tabcontent, tablinks;
			  tabcontent = document.getElementsByClassName("tabcontent");
			  for (i = 0; i < tabcontent.length; i++) {
			    tabcontent[i].style.display = "none";
			  }
			  tablinks = document.getElementsByClassName("tablinks");
			  for (i = 0; i < tablinks.length; i++) {
			    tablinks[i].className = tablinks[i].className.replace(" active", "");
			  }
			  document.getElementById().style.display = "block";
			  evt.currentTarget.className += " active";
			}
		</script-->
	</body>
	<!-- Scripts -->

	<script src="rossetup.js"></script>
	<script src="lib/bootstrap/js/bootstrap.min.js"></script>
	<script src="roselements.js"></script>
	<script src="map.js"></script>
	<script src="trigger_functions.js"</script>

	<script src="scripts.js"></script>
	<script src="function.js"></script>

</html>
